# MORE.Tech.4.0_news_ranking
Алгоритм для получения дайджестов новостей, релевантных для определенных ролей в компании. Алгоритм для выделения трендов и инсайтов из новостей.

Файл [main.py](./main.py) содержит основной код для методов get_digest, для получения актуальных новостей для ролей бухгалтер и гендиректор. [Алгоритм подбора актуальных новостей](./algorithms/digest.ipynb) основан на анализе новостных постов на наличие ключевых слов для каждой позиции. Алгоритм принимает на вход название роли сотрудника и отдает на выходе 2-3 релевантные для сотрудника новости за последние сутки. Перед работой текст обрабатывается с помощью модулей regex и pymorphy2.MorphAnalyzer(). Во избежание повторов новостей, перед выдачей предложений пользователю, между новостями рассчитывается расстояние Левенштейна. Таким образом новости об одном событии отсеиваются.

Файл [insight.py](./insight.py) содержит код для метода get_insigt. Метод не принимает на вход параметров, он анализирует новости за длительный период времени и выделяет тренды, с помощью которых потом можно проверять инсайты. На выходе метод выводить в консоль несколько популярных топиков новостей и ключевые слова для них. Топики располагаются в порядке убывания важности (первые 3 - самые актуальные).

![Пример выделения трендов новостей за вторую половину 2022 года](https://github.com/karpova01/MORE.Tech.4.0_news_ranking/blob/main/data/topics_news.jpg)

Для более наглядного выделения трендов проводится [кластеризация](./algorithms/news_clustering.ipynb) новостей. Здесь, после предварительной обрабокти новостей модулями regex и pymorphy2.MorphAnalyzer(), из каждого описания новости извлекаются ключевые слова с помошью модуля TermExtractor(). Ключевые слова преобразуются в численные векторы с помощью TfidfVectorizer, и затем, с помощью метода K-средних, осуществляется кластеризация. Явно выдялются три тренда.

![Пример кластеризации новостей за 2022 год](https://github.com/karpova01/MORE.Tech.4.0_news_ranking/blob/main/data/clastering_news.png)

# Парсинг данных
Парсинг данных осуществлялся [с помощью модулей requests и BeautifulSoup](./parsers/parser_audit_2022.ipynb) с сайта https://www.audit-it.ru/archive/ , а так же с помощью парсера RSS из профильных источников для [бухгалтеров](./parsers/accounting_parser.ipynb) и [бизнесменов](./parsers/business_parseripynb). 
